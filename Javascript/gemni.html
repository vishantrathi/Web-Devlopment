<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text Generation with Google Generative AI</title>
  <style>
    /* Same CSS as your original code */
  </style>
</head>
<body>
  <div class="container">
    <h1>Text Generation with Google Generative AI</h1>
    <textarea id="userInput" placeholder="Enter your prompt here..."></textarea>
    <button id="generateButton">Generate Text</button>
    <div class="result" id="result"></div>
  </div>

  <script type="module">
    // **Replace this with your actual API key (in a secure way) **
    const API_KEY = "AIzaSyCKB3w80V50ncjSgwRTNfTybKT0SOTmmIM"; // Replace with your actual API key

    import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai"; // Correct module import

    // Initialize the GoogleGenerativeAI instance
    const genAI = new GoogleGenerativeAI(API_KEY);

    // Get the model (replace with the appropriate model)
    let model = genAI.getGenerativeModel({ model: "your_model_name" }); // Use a model that's available

    document.getElementById('generateButton').addEventListener('click', async () => {
      const userInput = document.getElementById('userInput').value;
      if (!userInput.trim()) {
        // Provide a clear message within the page
        document.getElementById('result').innerText = "Please enter a prompt.";
        return;
      }
      if (!model || typeof model.generateText !== 'function') {
        // Provide a specific error message
        document.getElementById('result').innerText = "Model not loaded or generateText method not available";
        return;
      }
      try {
        const response = await model.generateText({
          prompt: userInput,
          maxTokens: 100
        });
        document.getElementById('result').innerText = response.text;
      } catch (error) {
        // Log errors to the console for debugging
        console.error('Error generating text:', error);
        document.getElementById('result').innerText = "An error occurred. Please try again later.";
      }
    });
  </script>
</body>
</html>